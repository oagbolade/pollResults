(this.webpackJsonppollresults=this.webpackJsonppollresults||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),o=(a(38),a(8)),i=a(9),s=a(11),m=a(10),u=a(2),h=a(12),p=a(7),g=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(p.b,{to:"/",className:"navbar-brand"},"Bincom"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"+(1===this.props.active?"active":"")},l.a.createElement(p.b,{to:"/",className:"nav-link"},"Question1")),l.a.createElement("li",{className:"nav-item"+(2===this.props.active?"active":"")},l.a.createElement(p.b,{to:"/question2",className:"nav-link"},"Question2")),l.a.createElement("li",{className:"nav-item"+(3===this.props.active?"active":"")},l.a.createElement(p.b,{to:"/question3",className:"nav-link"},"Question3"))),l.a.createElement("span",{className:"navbar-text"},"INEC Polling Results")))}}]),t}(n.Component),b=a(13),v=a.n(b),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChangePollingUnitID=a.onChangePollingUnitID.bind(Object(u.a)(a)),a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.state={active:1,pollingUnitID:"",polls:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onChangePollingUnitID",value:function(e){this.setState({pollingUnitID:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a="/pollresults/get-individual-polls/".concat(this.state.pollingUnitID);v.a.get(a).then((function(e){t.setState({polls:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=null;if(this.state.polls.length>0){var t=1;e=this.state.polls.map((function(e){return l.a.createElement("tr",{key:e.result_id},l.a.createElement("td",null,t++),l.a.createElement("td",null,e.party_abbreviation),l.a.createElement("td",null,e.party_score))}))}return l.a.createElement("div",{className:"container"},l.a.createElement(g,{active:this.state.active}),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center container"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Enter Polling Unit ID"),l.a.createElement("input",{type:"text",name:"pollingUnitID",value:this.state.pollingUnitID,onChange:this.onChangePollingUnitID,className:"form-control",placeholder:"Polling Unit ID"})),l.a.createElement("button",{onClick:this.onSubmit,className:"btn btn-primary"},"Submit"))),e?l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"S/N"),l.a.createElement("th",{scope:"col"},"Party Name"),l.a.createElement("th",{scope:"col"},"Party Score"))),l.a.createElement("tbody",null,e)):"")}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChangePartyNameWithID=a.onChangePartyNameWithID.bind(Object(u.a)(a)),a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.state={active:2,partyNameWithID:"",lgas:[],polls:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onChangePartyNameWithID",value:function(e){this.setState({partyNameWithID:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a="/pollresults/lga/".concat(this.state.partyNameWithID);v.a.get(a).then((function(e){t.setState({polls:e.data[0].data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;v.a.get("/pollresults/lgas").then((function(t){e.setState({lgas:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=null;this.state.lgas.length>0&&(e=this.state.lgas.map((function(e){return l.a.createElement("option",{value:e.lga_id,key:e.lga_id},e.lga_name)})));var t=null,a=[],n=0;if(this.state.polls.length>0){var r=1;t=this.state.polls.map((function(e){return a.push(Number(e.party_score)),n=a.reduce((function(e,t){return e+t}),0),l.a.createElement("tr",{key:e.result_id},l.a.createElement("td",null,r++),l.a.createElement("td",null,e.party_abbreviation),l.a.createElement("td",null,e.party_score))}))}return l.a.createElement("div",{className:"container"},l.a.createElement(g,{active:this.state.active}),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center container"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Select Party"),l.a.createElement("select",{onChange:this.onChangePartyNameWithID,name:"partyNameWithID",className:"form-control form-control-lg"},l.a.createElement("option",null,"Select Party"),e)),l.a.createElement("button",{onClick:this.onSubmit,className:"btn btn-primary"},"Submit"))),t?l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"S/N"),l.a.createElement("th",{scope:"col"},"Party Name"),l.a.createElement("th",{scope:"col"},"Party Score"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("b",null,"Totol: ",n))))):"")}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChangeEnteredBy=a.onChangeEnteredBy.bind(Object(u.a)(a)),a.onChangePollingUnitID=a.onChangePollingUnitID.bind(Object(u.a)(a)),a.onChangePartyScore=a.onChangePartyScore.bind(Object(u.a)(a)),a.onChangePartyNameWithID=a.onChangePartyNameWithID.bind(Object(u.a)(a)),a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.state={active:3,enteredBy:"",pollingUnitID:"",partyScore:"",partyNameWithID:"",error:!1,success:!1,lgas:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/pollresults/lgas").then((function(t){e.setState({lgas:t.data})})).catch((function(e){console.log(e)}))}},{key:"onChangePollingUnitID",value:function(e){this.setState({pollingUnitID:e.target.value})}},{key:"onChangeEnteredBy",value:function(e){this.setState({enteredBy:e.target.value})}},{key:"onChangePartyScore",value:function(e){this.setState({partyScore:e.target.value})}},{key:"onChangePartyNameWithID",value:function(e){this.setState({partyNameWithID:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={result_id:Math.ceil(1e4*Math.random()),partyNameWithID:this.state.partyNameWithID,pollingUnitID:this.state.pollingUnitID,partyScore:this.state.partyScore,enteredBy:this.state.enteredBy};v.a.post("/pollresults/create-poll",a).then((function(e){t.setState({success:e.data.success}),console.log(e.data)})).catch((function(e){t.setState({error:!0}),console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(g,{active:this.state.active}),this.state.error?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Your poll data could not be submitted, please try again later"):"",this.state.success?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Poll submission successfull!"):"",l.a.createElement("div",{className:"d-flex justify-content-center align-items-center container"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Entered by?"),l.a.createElement("input",{type:"text",value:this.state.enteredBy,onChange:this.onChangeEnteredBy,name:"enteredBy",className:"form-control",placeholder:"Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Polling Unit ID"),l.a.createElement("input",{type:"text",value:this.state.pollingUnitID,onChange:this.onChangePollingUnitID,name:"pollingUnitID",className:"form-control",placeholder:"ID"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Enter Party Name"),l.a.createElement("input",{type:"text",value:this.state.partyNameWithID,onChange:this.onChangePartyNameWithID,name:"partyNameWithID",className:"form-control",placeholder:"Party Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Party Score"),l.a.createElement("input",{type:"text",value:this.state.partyScore,onChange:this.onChangePartyScore,name:"partyScore",className:"form-control",placeholder:"Score"})),l.a.createElement("button",{onClick:this.onSubmit,type:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),f=(a(61),a(14));var N=function(){return l.a.createElement(p.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(f.c,null,l.a.createElement(f.a,{exact:!0,path:"/",component:d}),l.a.createElement(f.a,{path:"/question2",component:E}),l.a.createElement(f.a,{path:"/question3",component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(p.a,null,l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.91b7fdba.chunk.js.map